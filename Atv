<?php
date_default_timezone_set('America/Sao_Paulo');
$ano = date('Y');
$meses = array('Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro');

function linha($semana, $mes)
{
    echo "<tr>";
    foreach ($semana as $dia) {
        if ($dia == date('j') && $mes == date('n')) {
            echo "<td><strong>{$dia}</strong></td>";
        } else {
            echo "<td>{$dia}</td>";
        }
    }
    echo "</tr>";
}

function calendario($mes, $ano)
{
    $dia = 1;
    $semana = array();
    $primeiro_dia_mes = date('w', strtotime($ano . '-' . $mes . '-01'));
    for ($i = 0; $i < $primeiro_dia_mes; $i++) {
        array_push($semana, '');
    }

    $ultimo_dia_mes = date('t', strtotime($ano . '-' . $mes . '-01'));

    while ($dia <= $ultimo_dia_mes) {
        array_push($semana, $dia);
        if (count($semana) == 7) {
            linha($semana, $mes);
            $semana = array();
        }
        $dia++;
    }

    for ($i = count($semana); $i < 7; $i++) {
        array_push($semana, '');
    }

    linha($semana, $mes);
}

function turno()
{
    $horario = date('H:i:s');
    if ($horario <= 12) {
        echo '<br>Bom dia';
    }
    if ($horario > 12 and $horario < 18) {
        echo '<br>Boa tarde';
    }
    if ($horario > 18) {
        echo '<br>Boa noite';
    }
}

?>

<h1>Calendário</h1>

<table border="1">
    <?php
    for ($i = 0; $i < 12; $i++) {
        echo "<tr><th colspan='7'>" . $meses[$i] . "</th></tr>";
        echo "<tr>
        <th>Dom</th>
        <th>Seg</th>
        <th>Ter</th>
        <th>Qua</th>
        <th>Qui</th>
        <th>Sex</th>
        <th>Sáb</th>
    </tr>";
        calendario($i+1, $ano);
    }
    ?>
</table>

<?php 
    echo "Agora são " . date('H:i:s');
    turno(); 
?>